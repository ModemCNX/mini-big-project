#include <stdio.h>
#include <windows.h>
#include <string.h>
#include <stdlib.h>

//variable that NOT gonna change by player ( system variable )
char version[] = "1.1.3";

int w=0,a=0,s=0,d=0,space=0; // user input flag

float ee=0; // for debug

long int tick = 0;
LARGE_INTEGER frequency; // for game_time calculation
LARGE_INTEGER t1, t2; // for game_time calculation
float game_time = 0;
float delta_time = 0;

float select_choice_time = 0; // for select_choice delay
float space_time = 0; // for space_bar click delay

int current_text = -1; // to know what text index currently need to display // -1 = no text
int current_text_index = 0; // to know what index of text index currently need to display
float text_time = 0; // for text show delay
float text_appear_delay = 0.05; // x second per 1 char appear

//variable that gonna change ( game variable )
int chapter = 0;
int subchapter = 0;
int select_choice = 1;

//image data

char test1[] = "1100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100100100100000000000000000000100100100100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000100100100000000000000000000100100100000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000200100100200100100200100100200100100200100100200100100200100100200100100200100100200100100200100100200100100200100100200100100200100100200100100200100100200100100200100100200100100200100100200100100200100100200100100000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000100100100100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100100100100100100100000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000100100100000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000100100100100100100100100100000000000000000000000000000000000000000000000000000000100100100000000000100100100000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100100100100000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000100100100000000000100100100000000000100100100000000000100100100000000000100100100000000000100100100000000000100100100000000000100100100000000000100100100000000000100100100000000000100100100000000000100100100000000000000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100000000000100100100000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000100100100100100100100100100100100100100100100000000000000000000100100100100100100100100100100100100000000000000000000100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000100100100100100100100100100100100100000000000100100100100100100000000000100100100100100100000000000100100100000000000100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100100100100100100100100100100000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000100100100100100100100100100100100100100100100100100100000000000100100100100100100000000000000000000000000000000000000000000000000000000100100100100100100100100100100100100100100100100100100100100100100100100100100100000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000100100100100100100100100100100100100100100100000000000000000000000000000000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000100100100100100100100100100100100100100100100000000000100100100100100100100100100100100100100100100100100100000000000100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000100100100100100100100100100100100100000000000000000000000000000000000000100100100100100100100100100100100100000000000100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100000000000000000000000000000000000000100100100100100100100100100000000000000000000000000000000000000000000000100100100000000000000000000100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000100100100000000000000000000000000000100100100000000000100100100000000000000000000000000000000000000000000000100100100000000000000000000100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100000000000100100100000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000100100100000000000100100100000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100100100100100100100000000000000000000000000000100100100100100100100100100000000000000000000000000000000000000000000000100100100000000000000000000100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100100150100000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000000000000100100100000000000000000000000000000000000000000000000000000000000000000000000000100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100100000000000100100100000000000100100100000000000100100100000000000100100100000000000100100100000000000100100100000000000100100100000000000100100100000000000100100100000000000100100100000000000100100100000000000100100100000000000100100100000000000000000000100100100000000000";

char test2[] = "2150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150150150150150150150150150150000000000150150150000000000150150150150150150150150150150150150150150150150150150150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150150150150150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150150150150150150150000000000000000000000000000000000000000000000000000000150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150150150150150150150150150150150150150150150150150150150000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150150150150150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150150150150150150150150150150150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150150150150000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150000000000000000000000000000000000000150150150150150150150150150000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150000000000000000000000000000000000000000000000150150150150150150000000000000000000000000000000000000000000000000000000150150150000000000000000000150150150000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150150150150150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150150150150150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000150150150000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000150150150000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000150150150000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150150150150150150150000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000150150150000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000150150150150150150150150150000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000150150150150150150000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150150150150150150150150150150150150150150150150000000000150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000150150150150150150150150150150150150150150150000000000000000000150150150000000000150150150000000000150150150000000000150150150150150150150150150150150150";


//text data

char text_data[3][10000];
void make_text(){ // compatible with only ansi escape code that end with 'H' or 'm' only 
	strcpy (text_data[0],"\e[7;94H123456789012345678901234\e[8;94H123456789012345678901234\e[9;94H123456789012345678901234\e[10;94H123456789012345678901234\e[11;94H123456789012345678901234\e[12;94H123456789012345678901234\e[13;94H123456789012345678901234\e[14;94H123456789012345678901234\e[15;94H123456789012345678901234\e[16;94H123456789012345678901234\e[17;94H123456789012345678901234\e[18;94H123456789012345678901234\e[19;94H123456789012345678901234\e[20;94H123456789012345678901234");
	strcpy (text_data[1],"\e[7;94HTest text no.1\e[8;94Hpls dont type morethan24\e[9;94Hcharacter each line");
	strcpy (text_data[2],"\e[7;94HTest text no.2\e[8;94H\e[38;2;200;100;100mred text!\e[9;94H\e[0mback to normal color");
}

// display function
void draw(char data[]){
	char draw_action[100000] = "";
	char text[100] = "";
	int draw_x = 0 , draw_y = 0 , draw_start_x = 1 , draw_start_y = 1;
	if(data[0] == '1'){ // draw full screen
		draw_x = 120;
		draw_y = 30;
		draw_start_x = 1;
		draw_start_y = 1;
	}else if(data[0] == '2'){ // draw VN picture
		draw_x = 89;
		draw_y = 28;
		draw_start_x = 2;
		draw_start_y = 2;
	}
	
	int index = 1;
	int i,j;
	for(i=0;i<draw_y;i++){
		//printf("\e[%d;%dH",draw_start_y + i,draw_start_x); // set cursor position (y,x)
		sprintf(text,"\e[%d;%dH",draw_start_y + i,draw_start_x);
		strcat(draw_action,text);
		for(j=0;j<draw_x;j++){
			char pixel_data[9] = "";
			int data_rgb,data_r,data_g,data_b;
			strncpy(pixel_data , data + index , 9);
			index += 9;
			data_rgb = atoi(pixel_data);
			data_b = data_rgb % 1000;
			data_g = (data_rgb/1000) % 1000;
			data_r = (data_rgb/1000000) % 1000;
			//printf("\e[48;2;%d;%d;%dm ",data_r,data_g,data_b);// change color of ' ' to r:g:b value	
			sprintf(text,"\e[48;2;%d;%d;%dm ",data_r,data_g,data_b);
			strcat(draw_action,text);
		}
	}
	
	printf("%s",draw_action);
}

void clear_text(){  //  clear current_text in screen by print char as ' '   note:ascii   27 = /e(ESC code) 72 = H 109 = m
	if (current_text == -1){
		return;
	}
	
	int i;
	int ansi_code = 0;
	char draw_action[10000] = "";
	for(i=0;i<strlen(text_data[current_text]);i++){
		if (ansi_code == 0){
			if(text_data[current_text][i] == 27){
				draw_action[i] = 27;
				ansi_code = 1;
			}else{
				draw_action[i] = ' ';
			}
		}else{
			if(text_data[current_text][i] == 'H' || text_data[current_text][i] == 'm'){
				draw_action[i] = text_data[current_text][i];
				ansi_code = 0;
			}else{
				draw_action[i] = text_data[current_text][i];
			}
		}
	}
	
	printf("\e[0m%s",draw_action);
	
	current_text = -1;
	current_text_index = 0; 
	text_time = game_time;
}

void show_text(int text_index){
	if (current_text == -1) {       // no text right now ok to draw
		current_text = text_index;
	}else{      // need to delete current text first bruh
		clear_text();
		current_text = text_index;
	}
}

void draw_text(){  //    note:ascii   27 = /e(ESC code) 72 = H 109 = m
	if (current_text == -1){
		return;
	}
	if (current_text_index >= strlen(text_data[current_text])){  // already write all char
		return;
	}
	if (game_time < text_time) {   // still in text_appear_delay
		return;
	}
	text_time = game_time + text_appear_delay;
	
	int i;
	int ansi_code = 0;
	int ansi_length = 0;
	char draw_action[10000] = "";
	
	for(i=0;i<current_text_index;i++){        // add old text
		draw_action[i] = text_data[current_text][i];
	}
	
		
	for(i=current_text_index;i<strlen(text_data[current_text]);i++){    // add new text 1 only (and all ansi +1 if found escape code)
		printf("\e[%d;%dH[%c][%d][%d]",3,1,text_data[current_text][current_text_index],ansi_length,ansi_code); // set cursor position (y,x)
		if(text_data[current_text][i] == 0){     // end of string
			current_text_index += 1;
			break;
		}
		
		if (ansi_code == 0){
			if(text_data[current_text][i] == 27){
				draw_action[i] = 27;
				ansi_code = 1;
				ansi_length += 1;
				
			}else{
				draw_action[i] = text_data[current_text][i];
				current_text_index += 1;
				break;
			}
		}else{
			if(text_data[current_text][i] == 'H' || text_data[current_text][i] == 'm'){
				ansi_code = 0;
			}
			draw_action[i] = text_data[current_text][i];
			ansi_length += 1;
		}
		current_text_index += 1;
	}
	
	printf("\e[0m%s\e[0m",draw_action);
}

// update function

void update_input(){
	w = GetAsyncKeyState('W')!=0||GetAsyncKeyState(0x26)!=0?1:0;
	a = GetAsyncKeyState('A')!=0||GetAsyncKeyState(0x25)!=0?1:0;
	s = GetAsyncKeyState('S')!=0||GetAsyncKeyState(0x28)!=0?1:0;
	d = GetAsyncKeyState('D')!=0||GetAsyncKeyState(0x27)!=0?1:0;
	space = GetAsyncKeyState(0x20)!=0?1:0;
}

void update_game_tick(){
	tick ++;
}

void update_game_time(){
	QueryPerformanceCounter(&t2);
	delta_time = ((t2.QuadPart - t1.QuadPart) / (float)frequency.QuadPart)  - game_time;
	game_time = (t2.QuadPart - t1.QuadPart) / (float)frequency.QuadPart;
}

// function for check input ( not call every frame, need to call by code )

int check_select_choice(int choice_limit){    // return : if not change return 0 if change return old select_choice number
	float select_choice_delay = 0.2;
	if (w||a){
		if(select_choice > 1 && game_time > select_choice_time){
			select_choice_time = game_time + select_choice_delay;
			select_choice -= 1;
			return select_choice+1;
		}
	}else if (s||d){
		if(select_choice < choice_limit && game_time > select_choice_time){
			select_choice_time = game_time + select_choice_delay;
			select_choice += 1;
			return select_choice-1;
		}
	}
	return 0;
}

int check_space(){    // return : 1 if space press    0 if space not press ( or on cooldown )
	float space_delay = 0.3;
	if (space){
		if(game_time > space_time){
			space_time = game_time + space_delay;
			
			if (current_text_index < strlen(text_data[current_text])) {      // skip type time but not return 1
				current_text_index = strlen(text_data[current_text])-1 ;
				return 0;
			}
			
			return 1;
		}
	}
	return 0;
}

void update_game(){
	update_game_tick();
	update_game_time();
	update_input();
	
	draw_text();  // text system
}

void display_var(){              // for debug only
	printf("\e[48;2;0;0;0m");// change color of '' to r:g:b value	
	printf("\e[%d;%dH",1,1); // set cursor position (y,x)
	printf("[ version %s]",version);
	printf("\e[%d;%dH",2,1); // set cursor position (y,x)
	printf("[ game_time: %f delta_time: %f  tick: %d fps: %d ]",game_time,delta_time,tick,(int)(1/delta_time));
	printf("\e[%d;%dH",3,1); // set cursor position (y,x)
	printf("[ chapter : %d subchapter : %d e : %f]",chapter,subchapter,ee);
	//printf("\e[%d;%dH",4,1); // set cursor position (y,x)
	//printf("[ input w %d  a %d  s %d  d %d  m1 %d ]",w,a,s,d,m1);
}

// start funtion

void start_setup(){
	printf("\e[?25l"); // hide cursor
	QueryPerformanceFrequency(&frequency); // for update_game_time(){
	QueryPerformanceCounter(&t1);
	make_text();
}

// game function

void clear_chapter_data(){
	subchapter = 0;
	select_choice = 1;
	select_choice_time = 0;
}

void change_chapter(int target_chapter){
	clear_chapter_data();
	chapter = target_chapter;
}


void chapter_0(){
	if (subchapter == 0){
		subchapter = 1;
		printf("\e[%d;%dH",14,10); // set cursor position (y,x)
		printf("\e[3m\e[1mHello Welcome\e[0m");
		printf("\e[%d;%dH",15,12); // set cursor position (y,x)
		printf("\e[2m\e[1mstart\e[0m");
		printf("\e[%d;%dH",16,12); // set cursor position (y,x)
		printf("\e[2m\e[1mchapter teleport\e[0m");
		
		printf("\e[%d;%dH",15,10); // set cursor position (y,x)
		printf(">");
	}
	int old_choice = check_select_choice(2);
	if (old_choice){
		printf("\e[%d;%dH",14+old_choice,10); // set cursor position (y,x)
		printf(" ");
		printf("\e[%d;%dH",14+select_choice,10); // set cursor position (y,x)
		printf(">");
	}
	if (check_space()){
		if (select_choice == 1){
			change_chapter(1);
		}
	}
}


void chapter_1(){
	if (subchapter == 0){
		draw(test1);
		draw(test2);
		show_text(1);
		subchapter = 1;
	}else if (subchapter == 1){
		if(check_space()){
			subchapter = 2;
			show_text(2);
		}
	}else if (subchapter == 2){
		if(check_space()){
			subchapter = 3;
			clear_text();
		}
	}
}

void game_progress(){
	if (chapter == 0){
		chapter_0();
	}else if (chapter == 1){
		chapter_1();
	}
}

//main bruh
void main(){
	start_setup();
	while (1){ // game loop
		update_game();
		display_var();  // for debug only
		game_progress();
	}
	// end game
}

// note
/*
printf("\e[1;1H\e[2J"); // clear screen
printf("\e[1;1H\e[2J\e[1;1H\e[3J"); // clear screen & clear scroll up
printf("\e[%d;%dH",1,1); // set cursor position (y,x)
printf("\e[48;2;%d;%d;%dm ",0,0,0);// change color of ' ' to r:g:b value
*/

